"use strict";var e=require("react"),t=require("@ionic/react");function n(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var l=n(e);function a(e,t,n,l){return new(n||(n=Promise))((function(a,r){function u(e){try{c(l.next(e))}catch(e){r(e)}}function o(e){try{c(l.throw(e))}catch(e){r(e)}}function c(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(u,o)}c((l=l.apply(e,t||[])).next())}))}function r(e,t){var n,l,a,r,u={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return r={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function o(r){return function(o){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;u;)try{if(n=1,l&&(a=2&r[0]?l.return:r[0]?l.throw||((a=l.return)&&a.call(l),0):l.next)&&!(a=a.call(l,r[1])).done)return a;switch(l=0,a&&(r=[2&r[0],a.value]),r[0]){case 0:case 1:a=r;break;case 4:return u.label++,{value:r[1],done:!1};case 5:u.label++,l=r[1],r=[0];continue;case 7:r=u.ops.pop(),u.trys.pop();continue;default:if(!(a=u.trys,(a=a.length>0&&a[a.length-1])||6!==r[0]&&2!==r[0])){u=0;continue}if(3===r[0]&&(!a||r[1]>a[0]&&r[1]<a[3])){u.label=r[1];break}if(6===r[0]&&u.label<a[1]){u.label=a[1],a=r;break}if(a&&u.label<a[2]){u.label=a[2],u.ops.push(r);break}a[2]&&u.ops.pop(),u.trys.pop();continue}r=t.call(e,u)}catch(e){r=[6,e],l=0}finally{n=a=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,o])}}}var u=function(e){return"https://ionic-react-demos.s3.amazonaws.com/".concat(e)};module.exports=function(n){var o=n.doLogout,c=n.recentTracks,i=n.doPlay,f=n.favTracks,s=n.favTrack,d=n.clearIcon,m=n.removeIcon,E=e.useState(null),I=E[0],p=E[1],b=e.useCallback((function(){return a(void 0,void 0,void 0,(function(){return r(this,(function(e){return p(null),o(),[2]}))}))}),[o,p]);return l.default.createElement(l.default.Fragment,null,l.default.createElement(t.IonHeader,null,l.default.createElement(t.IonToolbar,null,l.default.createElement(t.IonTitle,null,"Your Library"),l.default.createElement(t.IonButtons,{slot:"end"},l.default.createElement(t.IonButton,{fill:"clear",onClick:function(e){e.persist(),p(e)}},l.default.createElement(t.IonIcon,{icon:d}))))),l.default.createElement(t.IonContent,null,l.default.createElement(t.IonPopover,{event:I,isOpen:!!I,onDidDismiss:function(){return p(null)}},l.default.createElement(t.IonContent,null,l.default.createElement(t.IonList,null,l.default.createElement(t.IonItem,{onClick:function(e){e.preventDefault(),b()},detail:!0,href:""},l.default.createElement(t.IonLabel,null,"Log out"))))),l.default.createElement(t.IonList,null,l.default.createElement(t.IonListHeader,null,l.default.createElement(t.IonLabel,null,"Recent Tracks")),c.map((function(e){return l.default.createElement(t.IonItem,{key:e.title,onClick:function(){return i(e)},button:!0},l.default.createElement(t.IonThumbnail,{slot:"start"},l.default.createElement("img",{src:u(e.img)})),l.default.createElement(t.IonLabel,null,l.default.createElement("h2",null,e.title),l.default.createElement("p",null,e.artist)))}))),l.default.createElement(t.IonList,null,l.default.createElement(t.IonListHeader,null,l.default.createElement(t.IonLabel,null,"Favorite Tracks")),f.map((function(e){return l.default.createElement(t.IonItem,{key:e.title,onClick:function(){return i(e)},button:!0},l.default.createElement(t.IonThumbnail,{slot:"start"},l.default.createElement("img",{src:u(e.img)})),l.default.createElement(t.IonLabel,null,l.default.createElement("h2",null,e.title),l.default.createElement("p",null,e.artist)),l.default.createElement(t.IonIcon,{onClick:function(t){t.stopPropagation(),s(e)},icon:m,slot:"end"}))})))))};
